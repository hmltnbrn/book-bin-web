<app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
<div class="header-link">
  <a mat-button routerLink="/signin">I already have an account</a>
</div>
<div class="logo">
  <a routerLink="../">Classroom Library</a>
</div>
<div class="error-indicator" *ngIf="apiError">
  {{apiError}}
</div>
<form class="form-container" (ngSubmit)="onSubmit()" [formGroup]="signUpForm">
  <mat-horizontal-stepper linear>
    <mat-step>
      <ng-template matStepLabel>Personal details</ng-template>
      <mat-form-field>
        <input matInput placeholder="First name" formControlName="firstName" required>
        <mat-error *ngIf="signUpForm.controls.firstName.invalid">{{getErrorMessage(signUpForm.controls.firstName)}}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Last name" formControlName="lastName" required>
        <mat-error *ngIf="signUpForm.controls.lastName.invalid">{{getErrorMessage(signUpForm.controls.lastName)}}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Email" formControlName="email" required>
        <mat-error *ngIf="signUpForm.controls.email.invalid">{{getErrorMessage(signUpForm.controls.email)}}</mat-error>
        <mat-hint align="end">e.g. name@domain.com</mat-hint>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Zip code" formControlName="zip" required>
        <mat-error *ngIf="signUpForm.controls.zip.invalid">{{getErrorMessage(signUpForm.controls.zip, 'zip')}}</mat-error>
        <mat-hint align="end">e.g. 11105</mat-hint>
      </mat-form-field>
      <div class="button-container">
        <button mat-button matStepperNext type="button">Next</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>School information</ng-template>
      <mat-form-field>
        <input matInput placeholder="School name" formControlName="schoolName" required>
        <mat-error *ngIf="signUpForm.controls.schoolName.invalid">{{getErrorMessage(signUpForm.controls.schoolName)}}</mat-error>
      </mat-form-field>
      <div class="button-container">
        <button mat-button matStepperPrevious type="button">Back</button>
        <button mat-button matStepperNext type="button">Next</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Username and password</ng-template>
      <mat-form-field>
        <input matInput placeholder="Username" formControlName="username" required>
        <mat-error *ngIf="signUpForm.controls.username.invalid">{{getErrorMessage(signUpForm.controls.username)}}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Password" [type]="hide ? 'password' : 'text'" formControlName="password" required>
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
        <mat-error *ngIf="signUpForm.controls.password.invalid">{{getErrorMessage(signUpForm.controls.password, 'password')}}</mat-error>
        <mat-hint *ngIf="signUpForm.controls.password.invalid">Must contain a number, capital letter, special character, and be at least 8 characters</mat-hint>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Confirm Password" [type]="hide ? 'password' : 'text'" formControlName="confirmPassword" required>
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
        <mat-error *ngIf="signUpForm.controls.confirmPassword.invalid">{{getErrorMessage(signUpForm.controls.confirmPassword, 'password')}}</mat-error>
      </mat-form-field>
      <div class="button-container">
        <button mat-button matStepperPrevious type="button">Back</button>
        <button mat-raised-button color="primary" [disabled]="signUpForm.invalid">Sign Up</button>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
</form>
<form class="form-container-vert" (ngSubmit)="onSubmit()" [formGroup]="signUpForm">
  <mat-vertical-stepper linear>
    <mat-step>
      <ng-template matStepLabel>Personal details</ng-template>
      <mat-form-field>
        <input matInput placeholder="First name" formControlName="firstName" required>
        <mat-error *ngIf="signUpForm.controls.firstName.invalid">{{getErrorMessage(signUpForm.controls.firstName)}}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Last name" formControlName="lastName" required>
        <mat-error *ngIf="signUpForm.controls.lastName.invalid">{{getErrorMessage(signUpForm.controls.lastName)}}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Email" formControlName="email" required>
        <mat-error *ngIf="signUpForm.controls.email.invalid">{{getErrorMessage(signUpForm.controls.email)}}</mat-error>
        <mat-hint align="end">e.g. name@domain.com</mat-hint>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Zip code" formControlName="zip" required>
        <mat-error *ngIf="signUpForm.controls.zip.invalid">{{getErrorMessage(signUpForm.controls.zip, 'zip')}}</mat-error>
        <mat-hint align="end">e.g. 11105</mat-hint>
      </mat-form-field>
      <div class="button-container">
        <button mat-button matStepperNext type="button">Next</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>School information</ng-template>
      <mat-form-field>
        <input matInput placeholder="School name" formControlName="schoolName" required>
        <mat-error *ngIf="signUpForm.controls.schoolName.invalid">{{getErrorMessage(signUpForm.controls.schoolName)}}</mat-error>
      </mat-form-field>
      <div class="button-container">
        <button mat-button matStepperPrevious type="button">Back</button>
        <button mat-button matStepperNext type="button">Next</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Username and password</ng-template>
      <mat-form-field>
        <input matInput placeholder="Username" formControlName="username" required>
        <mat-error *ngIf="signUpForm.controls.username.invalid">{{getErrorMessage(signUpForm.controls.username)}}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Password" [type]="hide ? 'password' : 'text'" formControlName="password" required>
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
        <mat-error *ngIf="signUpForm.controls.password.invalid">{{getErrorMessage(signUpForm.controls.password, 'password')}}</mat-error>
        <mat-hint *ngIf="signUpForm.controls.password.invalid">Must contain a number, capital letter, special character, and be at least 8 characters</mat-hint>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Confirm Password" [type]="hide ? 'password' : 'text'" formControlName="confirmPassword" required>
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
        <mat-error *ngIf="signUpForm.controls.confirmPassword.invalid">{{getErrorMessage(signUpForm.controls.confirmPassword, 'password')}}</mat-error>
      </mat-form-field>
      <div class="button-container">
        <button mat-button matStepperPrevious type="button">Back</button>
        <button mat-raised-button color="primary" [disabled]="signUpForm.invalid">Sign Up</button>
      </div>
    </mat-step>
  </mat-vertical-stepper>
</form>
